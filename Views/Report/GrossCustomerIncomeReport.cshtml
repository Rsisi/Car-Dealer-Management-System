@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    var report = ViewBag.GrossIncomeReport as List<GrossIncomeReport>;
}
<h1>Report - Gross Customer Income(Top 15)</h1>


<div class="btn-group mt-3">

        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Get Reports
        </button>
        <div class="dropdown-menu">
            <a class="dropdown-item" href="/Report/ColorReport">Sales by Color</a>
            <a class="dropdown-item" href="/Report/VehicleTypeReport">Sales by Vehicle Type</a>
            <a class="dropdown-item" href="/Report/ManufacturerReport">Sales by Manufacturer</a>
            <a class="dropdown-item" href="/Report/GrossCustomerIncomeReport">Gross Customer Income</a>
            <a class="dropdown-item" href="/Report/RepairReport">Repair Reports</a>
            <a class="dropdown-item" href="/Report/BelowCostSaleReport">Below Cost Sales</a>
            <a class="dropdown-item" href="/Report/AverageInventoryTimeReport">View Average Inventory Time</a>
            <a class="dropdown-item" href="/Report/PartReport">Parts Statistics</a>
            <a class="dropdown-item" href="/Report/MonthlySaleReport">Monthly Sales</a>
        </div>
    </div>



<div id="tblunsoldVehicles" style="padding-top:5px">
   
        <table id="tblunsoldvehicles" class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    <th>
                        Customer Name
                    </th>
                    <th title="First Sale Transaction Date or First Repair Order Date">
                        First Service Date
                    </th>
                    <th>
                        Recent Action Date
                    </th>
                    <th>
                        Number of Sales
                    </th>

                    <th>
                        Number of Repairs
                    </th>
                    <th>
                        Gross Income
                    </th>
                   

                </tr>
            </thead>
            <tbody id="unsoldvehicles">
                @foreach (var r in report)
                {

                    <tr>
                        <td>
                            <a href="/Report/GrossOneCustomerIncomeReport?CustomerID=@r.CustomerID">
                                @r.CustomerName
                            </a>
                      
                        </td>
                        <td>
                            @r.FirstServiceDate.ToString("MM-dd-yyyy")
                        </td>
                        <td>
                            @r.LatestServiceDate.ToString("MM-dd-yyyy")
                        </td>
                        <td>
                            @r.NumOfSale
                        </td>
                        <td>
                            @r.NumOfRepair
                        </td>
                        <td>
                            @r.TotalIncome
                        </td>
                        
                    </tr>

            }
            </tbody>
        </table>

    </div>

<script>    $('#tblunsoldvehicles').DataTable({
        "order": [], "pageLength": 100
    
    }



)</script>